---
import Layout from '../layouts/Layout.astro';
import '../styles/global.css';

import Hero from '../sections/Hero.astro';
import Informacion from '../sections/Informacion.astro';
import Proyectos from '../sections/Proyectos.astro';
import Tecnologias from '../sections/Tecnologias.astro';
import Footer from '../sections/Footer.astro';

const cookies = Astro.request.headers.get("cookie") || "";
const match = cookies.match(/preferredLanguage=([^;]+)/);
const preferredLanguage = match ? decodeURIComponent(match[1]) : "en";

Astro.redirect(`/${preferredLanguage}/`);
---

<Layout>
  <Hero />
  <hr class="w-[60vw] border border-[var(--white)] opacity-40"/>
  <Informacion />
  <hr class="w-[60vw] border border-[var(--white)] opacity-40 mt-[3vh]"/>
  <Proyectos />
  <hr class="w-[60vw] border border-[var(--white)] opacity-40 mt-[3vh]"/>
  <Tecnologias />
  <Footer />
</Layout>
